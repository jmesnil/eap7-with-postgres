= Connect JBoss EAP 7 to a PostgreSQL database on OpenShift

== The Application

The `src/main` folder contains a simple application exposing a REST endpoint which allows users to post data. Posted data is stored in a database. Then there is an endpoint allowing users to get data stored in the database.


=== Deploying the example with Helm

You can install an Helm Chart to deploy this example in OpenShift by following the instructions at https://jmesnil.github.io/helm-charts/.

See the https://github.com/jboss-eap-up-and-running/docs/blob/main/RUNNING_ON_OPENSHIFT.adoc#deploying_with_helm[Deploying with Helm] section for information about when the application will be ready.

=== Running the 'simple' setup application

Create a few entries in the database by running the following POST commands:
[source,shell]
----
curl -k -X POST https://$(oc get route eap7-with-postgres --template='{{ .spec.host }}')/app?value=Hello+World
curl -k -X POST https://$(oc get route eap7-with-postgres --template='{{ .spec.host }}')/app?value=Bonjour+le+Monde
----
Then we can read the entries we added
[source,shell]
----
curl -k https://$(oc get route eap7-with-postgres --template='{{ .spec.host }}')/app
----
which should return
[source,shell]
----
["Hello World","Bonjour le Monde"]
----